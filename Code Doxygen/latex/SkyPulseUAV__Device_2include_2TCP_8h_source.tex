\doxysection{TCP.\+h}
\hypertarget{SkyPulseUAV__Device_2include_2TCP_8h_source}{}\label{SkyPulseUAV__Device_2include_2TCP_8h_source}\index{/home/tony/Github/SkyPulseUAV/SkyPulseUAV\_Device/include/TCP.h@{/home/tony/Github/SkyPulseUAV/SkyPulseUAV\_Device/include/TCP.h}}
\mbox{\hyperlink{SkyPulseUAV__Device_2include_2TCP_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ \_\_TCP\_H\_\_}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ \_\_TCP\_H\_\_}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Head\ file\ of\ Sockpp\ library\ -\/>\ https://github.com/fpagliughi/sockpp.git}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}sockpp/tcp\_connector.h"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}sockpp/version.h"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{CppThread_8hpp}{CppThread.hpp}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{MahonyFilter_8h}{MahonyFilter.h}}"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{BMP180_8h}{BMP180.h}}"{}}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{using\ namespace\ }std;}
\DoxyCodeLine{00012\ \textcolor{keyword}{using\ namespace\ }std::chrono;}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classTCP}{TCP}}\ \{}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \ \ \ \ \mbox{\hyperlink{classTCP_af96f618dc070f3fc607d4e7b97b51cc2}{TCP}}(\textcolor{keywordtype}{string}\ host,\ in\_port\_t\ port);}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classTCP_a00d55b8bcf2732b04adf21b693d7b9ef}{write}}(\textcolor{keywordtype}{string}\ message\_sent);}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classTCP_ae6a23f98f5ac607406ba4a84272167f3}{read}}();}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTCP_a3b6dca15081bacb29b32b3463f958710}{readDataFromFilter}}(\textcolor{keywordtype}{float}\ roll,\ \textcolor{keywordtype}{float}\ pitch,\ \textcolor{keywordtype}{float}\ yaw,\ \textcolor{keywordtype}{float}\ rate[3]);}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTCP_a1c67028b24360bbe435dae450b68458a}{readDataFromBMP180}}(\textcolor{keywordtype}{float}\ altitude);}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTCP_a263a745bf76827713348d6baaa7aeb70}{readDataFromMotor}}(\textcolor{keywordtype}{float}\ \mbox{\hyperlink{classMotor}{Motor}}[4]);}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{comment}{//\ Merge\ all\ the\ data\ and\ flags\ into\ a\ string.}}
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordtype}{string}\ \mbox{\hyperlink{classTCP_a278b50f298ef5e059582bfb8f554ea00}{mergeData}}();}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTCP_af9525ba3c30ec1b4a67d695d890372f3}{connect}}(seconds\ timeout);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTCP_a3eb0705cd89c17d27a286b53f5766f91}{waitForConnection}}(seconds\ timeout);}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{comment}{//\ TCP\ basic\ variables.}}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{string}\ s,\ sret;}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordtype}{string}\ host;}
\DoxyCodeLine{00045\ \ \ \ \ in\_port\_t\ port;}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ sockpp::tcp\_connector\ conn;}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ receiveStringLength;}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{comment}{//\ Flags.}}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{bool}\ isMannedMode;}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keywordtype}{bool}\ isInTheAir;}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{comment}{//\ Get\ from\ other\ classes.}}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{comment}{//\ Eular\ angles\ data.}}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{float}\ roll;}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{float}\ pitch;\ }
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordtype}{float}\ yaw;}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{comment}{//\ Throttle\ data.}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordtype}{float}\ thro;}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{//\ Gyroscope\ rate\ date.}}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{float}\ rate[3];}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{comment}{//\ Altitude\ data.}}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{float}\ alt;}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{comment}{//\ Motor\ data}}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{classMotor}{Motor}}[4];}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{comment}{//\ IR\ distance.}}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordtype}{float}\ IRDistance[3];}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{comment}{//\ Ultrasound\ distance.}}
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{float}\ USDistance;}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{comment}{//\ Battery\ status.}}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordtype}{float}\ vol;}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{float}\ cur;}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \};}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classTCPThread}{TCPThread}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classCppThread}{CppThread}}\ \{}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \mbox{\hyperlink{classTCPThread_a1205728cbe7e7c23104d4f374c5da22a}{TCPThread}}(\mbox{\hyperlink{classMahonyFilter}{MahonyFilter}}\&\ MahonyFilterIns\_,\ \mbox{\hyperlink{classTCP}{TCP}}\&\ TCPIns\_,\ \mbox{\hyperlink{classBMP180}{BMP180}}\&\ BMP180Ins\_)\ :\ }
\DoxyCodeLine{00091\ \ \ \ \ MahonyFilterIns(MahonyFilterIns\_),}
\DoxyCodeLine{00092\ \ \ \ \ TCPIns(TCPIns\_),}
\DoxyCodeLine{00093\ \ \ \ \ BMP180Ins(BMP180Ins\_)\ \{\};}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classTCPThread_a3f78809c75e6355ec90e05c47fd2f6e6}{run}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \mbox{\hyperlink{classMahonyFilter}{MahonyFilter}}\&\ MahonyFilterIns;}
\DoxyCodeLine{00102\ \ \ \ \ \mbox{\hyperlink{classTCP}{TCP}}\&\ TCPIns;}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{classBMP180}{BMP180}}\&\ BMP180Ins;}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
